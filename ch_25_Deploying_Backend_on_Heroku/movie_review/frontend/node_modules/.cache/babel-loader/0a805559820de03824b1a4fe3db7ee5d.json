{"ast":null,"code":"var _jsxFileName = \"/home/telix/MERN_Stack_Build_and_Depoly_a_Full_Stack/ch_20_Login_Component/movie_review/frontend/src/components/add-review.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport MovieDataService from \"../services/movies\";\nimport { Link } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddReview = props => {\n  _s();\n\n  let editing = false;\n  let initialReviewState = \"\";\n  const [review, setReview] = useState(initialReviewState);\n  const [submitted, setSubmitted] = useState(false);\n\n  const onChangeReview = e => {\n    const review = e.target.value;\n    setReview(review);\n  };\n\n  const saveReview = () => {\n    var data = {\n      review: review,\n      name: props.user.name,\n      user_id: props.user.id,\n      movie_id: props.match.params.id // get the movie id fom the url\n\n    };\n    MovieDataService.createReview(data).then(response => {\n      setSubmitted(true);\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\" \", submitted ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Review submitted successfully\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/movies/\" + props.match.params.id,\n        children: \"Back to Movie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Form, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: [editing ? \"Edit\" : \"Create\", \" Review\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          require: true,\n          value: review,\n          onChangeReview: onChangeReview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: saveReview,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddReview, \"7DuPQXbCnvVp952DHKR3Wy6AMWQ=\");\n\n_c = AddReview;\nexport default AddReview;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddReview\");","map":{"version":3,"sources":["/home/telix/MERN_Stack_Build_and_Depoly_a_Full_Stack/ch_20_Login_Component/movie_review/frontend/src/components/add-review.js"],"names":["React","useState","MovieDataService","Link","Form","Button","AddReview","props","editing","initialReviewState","review","setReview","submitted","setSubmitted","onChangeReview","e","target","value","saveReview","data","name","user","user_id","id","movie_id","match","params","createReview","then","response","catch","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;;AAGA,MAAMC,SAAS,GAAGC,KAAK,IAAI;AAAA;;AAEzB,MAAIC,OAAO,GAAG,KAAd;AACA,MAAIC,kBAAkB,GAAG,EAAzB;AAEA,QAAM,CAAEC,MAAF,EAAUC,SAAV,IAAwBV,QAAQ,CAACQ,kBAAD,CAAtC;AAEA,QAAM,CAAEG,SAAF,EAAaC,YAAb,IAA8BZ,QAAQ,CAAC,KAAD,CAA5C;;AAEA,QAAMa,cAAc,GAAGC,CAAC,IAAG;AACzB,UAAML,MAAM,GAAGK,CAAC,CAACC,MAAF,CAASC,KAAxB;AACAN,IAAAA,SAAS,CAACD,MAAD,CAAT;AACD,GAHD;;AAKA,QAAMQ,UAAU,GAAG,MAAM;AACvB,QAAIC,IAAI,GAAG;AACTT,MAAAA,MAAM,EAAGA,MADA;AAETU,MAAAA,IAAI,EAAEb,KAAK,CAACc,IAAN,CAAWD,IAFR;AAGTE,MAAAA,OAAO,EAAEf,KAAK,CAACc,IAAN,CAAWE,EAHX;AAITC,MAAAA,QAAQ,EAAEjB,KAAK,CAACkB,KAAN,CAAYC,MAAZ,CAAmBH,EAJpB,CAIuB;;AAJvB,KAAX;AAOArB,IAAAA,gBAAgB,CAACyB,YAAjB,CAA8BR,IAA9B,EACGS,IADH,CACQC,QAAQ,IAAI;AAAEhB,MAAAA,YAAY,CAAC,IAAD,CAAZ;AAAoB,KAD1C,EAEGiB,KAFH,CAEUf,CAAC,IAAI;AAACgB,MAAAA,OAAO,CAACC,GAAR,CAAYjB,CAAZ;AAAe,KAF/B;AAGD,GAXD;;AAaA,sBACE;AAAA,oBACEH,SAAS,gBACP;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,IAAD;AAAM,QAAA,EAAE,EAAE,aAAaL,KAAK,CAACkB,KAAN,CAAYC,MAAZ,CAAmBH,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADO,gBAUP,QAAC,IAAD;AAAA,8BACE,QAAC,IAAD,CAAM,KAAN;AAAA,gCACE,QAAC,IAAD,CAAM,KAAN;AAAA,qBACIf,OAAO,GAAE,MAAF,GAAW,QADtB;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,IAAD,CAAM,OAAN;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,OAAO,MAFT;AAGE,UAAA,KAAK,EAAEE,MAHT;AAIE,UAAA,cAAc,EAAEI;AAJlB;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAYE,QAAC,MAAD;AACE,QAAA,OAAO,EAAC,SADV;AAEE,QAAA,OAAO,EAAEI,UAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAZF;AAAA;AAAA;AAAA;AAAA;AAAA,YAXJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAqCD,CAhED;;GAAMZ,S;;KAAAA,S;AAmEN,eAAeA,SAAf","sourcesContent":["import React, { useState } from 'react';\nimport MovieDataService from \"../services/movies\";\nimport { Link } from 'react-router-dom';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\n\nconst AddReview = props => {\n\n\t\tlet editing = false;\n\t\tlet initialReviewState = \"\";\n\n\t\tconst [ review, setReview ] = useState(initialReviewState);\n\n\t\tconst [ submitted, setSubmitted ] = useState(false);\n\n\t\tconst onChangeReview = e =>{\n\t\t\t\tconst review = e.target.value;\n\t\t\t\tsetReview(review);\n\t\t}\n\n\t\tconst saveReview = () => {\n\t\t\t\tvar data = {\n\t\t\t\t\t\treview : review,\n\t\t\t\t\t\tname: props.user.name,\n\t\t\t\t\t\tuser_id: props.user.id,\n\t\t\t\t\t\tmovie_id: props.match.params.id // get the movie id fom the url\n\t\t\t\t}\n\n\t\t\t\tMovieDataService.createReview(data)\n\t\t\t\t\t\t.then(response => { setSubmitted(true) })\n\t\t\t\t\t\t.catch( e => {console.log(e)} );\n\t\t}\n\n\t\treturn(\n\t\t\t\t<div> {\n\t\t\t\t\t\tsubmitted? ( \n\t\t\t\t\t\t\t\t<div> \n\t\t\t\t\t\t\t\t\t\t<h4>\n\t\t\t\t\t\t\t\t\t\t\t\tReview submitted successfully \n\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t<Link to={\"/movies/\" + props.match.params.id}>\n\t\t\t\t\t\t\t\t\t\t\t\tBack to Movie\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t\t\t\t<Form.Group>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{ editing? \"Edit\" : \"Create\" } Review \n\t\t\t\t\t\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequire\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={review}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeReview={onChangeReview}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={saveReview}>\n\t\t\t\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t);\n\t\t\n\n\n}\n\n\nexport default AddReview;\t\n"]},"metadata":{},"sourceType":"module"}